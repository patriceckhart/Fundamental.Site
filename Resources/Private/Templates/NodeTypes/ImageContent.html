{namespace neos=Neos\Neos\ViewHelpers}
{namespace media=Neos\Media\ViewHelpers}
{namespace fusion=Neos\Fusion\ViewHelpers}
<div{attributes -> f:format.raw()}>
<div class="imagecontent">
    <f:if condition="{containerPosition}==left">
        <f:then>
            <f:render section="imageContentimage" />
            <div class="imagecontentinner"><f:render section="imageContentcontent" /></div>
        </f:then>
        <f:else>
            <div class="imagecontentinner"><f:render section="imageContentcontent" /></div>
            <f:render section="imageContentimage" />
        </f:else>
    </f:if>
</div>
</div>

<f:section name="imageContentcontent">
    <div class="imagecontentwrap">{contentItems -> f:format.raw()}</div>
</f:section>
<f:section name="imageContentimage">
    <f:if condition="{containerBackgroundImage}">
        <div class="imagecontentinner" style="background:url({media:uri.image(image: containerBackgroundImage, maximumWidth:1200, maximumHeight:900, allowCropping:TRUE)}) no-repeat center center; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;"></div>
    </f:if>
</f:section>